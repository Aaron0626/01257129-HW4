# 天動萬象 (Ultimate Miner)
一款結合元素反應與經典鑽地玩法的 iOS 冒險遊戲。 Built with SwiftUI, SpriteKit & Observation Framework.

## 專案簡介
Ultimate Miner 是一款垂直捲軸的無限挖礦遊戲。玩家扮演冒險家向下挖掘，在有限的體力內盡可能探索更深的地層。遊戲結合了類似《原神》的元素機制，玩家可以收集元素球來發動技能或消除障礙。

## 核心特色
  * 無限地圖生成：隨著玩家挖掘，地圖會自動向上捲動並生成新的地形。

  * 混合架構：使用 SwiftUI 構建現代化 UI，結合 SpriteKit 處理高效能遊戲物理與邏輯。

  * 元素系統：包含岩、風與多種收集型元素，可觸發特殊技能或全屏消除。

  * 流暢動畫：首頁標題流光、按鈕呼吸效果、角色挖掘與轉向動畫。

  * 音效管理：支援無縫循環背景音樂 (BGM) 與多種互動音效 (SFX)。

  * 資料持久化：包含排行榜系統，記錄最高分與存活時間。

## 遊戲玩法
* 操作方式

  * 使用螢幕下方的虛擬按鍵控制角色：

  * ⬅️ 左 / ➡️ 右：移動角色（若下方有空洞則無法左右移動）。

  * ⬇️ 下：向下挖掘或移動。

* 體力機制

  * 初始體力：70 點。

  * 消耗：挖掘方塊消耗 1 點體力。移動與自由落體不消耗體力。

  * 恢復：吃到食物 (一夢治癒) 可恢復 10 點體力。

* 遊戲結束：體力歸零或碰到頂部荊棘。

* 元素技能

  * 🟨 岩元素 (Geo)：軟化周圍九宮格的礦石與土塊（耐久度變為 1）。

  * 🟦 風元素 (Anemo)：發動龍捲風，自動吸取全地圖所有礦物。

  * ⚛️ 元素爆發 (Combo)：收集任意 2 個 其他元素（火、水、雷、草、冰），直接消除下方三排障礙物。

* 得分規則

  * 土塊：1 分

  * 煤礦：10 分

  * 鐵礦：20 分

  * 水晶：30 分

## 檔案結構說明

* ContentView.swift: App 入口，負責注入 Environment。

* HomeView.swift: 主選單，包含 TimelineView 動畫與視差效果。

* GameView.swift: 遊戲容器，整合 SpriteView 與 SwiftUI HUD。

* GameScene.swift: 核心遊戲引擎。處理網格生成、物理掉落、消除邏輯與 Sprite 動畫。

* GameManager.swift: 狀態管理中樞。處理分數、體力、倒數計時、音效開關與資料存檔。

* AVPlayer+Extensions.swift: 音效管理擴充，實作 Singleton 播放器與 BGM 循環邏輯。

* Views.swift: 包含設定、排行榜、教學等子頁面。
